<!DOCTYPE HTML>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="search-domain" content="http://rangle.io" />
    <link href="http://localhost:4000/css/bootstrap.css" rel="stylesheet" />
    <link href="http://localhost:4000/css/bootstrap-theme.css" rel="stylesheet" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Directives</title>
  </head>
  <body>
    <div class="container shadow">
      <div class="row-fluid">
        <div class="span10 offset1">
          <p><a href="http://rangle.io">Rangle.io</a> Angular Training</a></p>
          <h1>Directives</h1>
          <hr />
<!-- .slide: id="directives-what-are-directives" -->
<h2 id="what-are-directives">What are directives?</h2>

<ul>
  <li>Directives are entities that <strong>change the behavior</strong> of components</li>
  <li>Components are just directives with templates</li>
  <li>Directives can be applied to native elements or custom components</li>
</ul>

<p>There are two types of directives:</p>

<ul>
  <li><strong>Attribute directives:</strong> Changes behavior without modifying the template (<code class="highlighter-rouge">NgClass</code>, <code class="highlighter-rouge">NgStyle</code>)</li>
  <li><strong>Structural directives:</strong> Changes behavior by modifying the template (<code class="highlighter-rouge">NgIf</code>, <code class="highlighter-rouge">NgFor</code>)</li>
</ul>

<hr />
<!-- .slide: id="directives-ngstyle-1" -->
<h2 id="ngstyle-directive-12"><code class="highlighter-rouge">NgStyle</code> Directive (1/2)</h2>

<p>Directive that modifies the <code class="highlighter-rouge">style</code> attribute of a component</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'style-example'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span>
    <span class="o">&lt;</span><span class="nx">p</span> <span class="nx">style</span><span class="o">=</span><span class="s2">"padding: 1rem"</span>
      <span class="p">[</span><span class="nx">ngStyle</span><span class="p">]</span><span class="o">=</span><span class="s2">"{
        color: 'red',
        'font-weight': 'bold',
        borderBottom: borderStyle
    }"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">ng</span><span class="o">-</span><span class="nx">content</span><span class="o">&gt;&lt;</span><span class="sr">/ng-content</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>  <span class="err">`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">StyleExampleComponent</span> <span class="p">{</span>
  <span class="nx">borderStyle</span> <span class="o">=</span> <span class="s1">'1px solid black'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p><a href="https://plnkr.co/edit/raYS8ou6AZru8UDc6hJs?p=preview">View Example</a></p>

<hr />
<!-- .slide: id="directives-ngstyle-2" -->
<h2 id="ngstyle-directive-22"><code class="highlighter-rouge">NgStyle</code> Directive (2/2)</h2>

<p>Directive with a property selector <code class="highlighter-rouge">[ngStyle]</code></p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Directive</span><span class="p">({</span> <span class="na">selector</span><span class="p">:</span> <span class="p">[</span><span class="nx">ngStyle</span><span class="p">]</span> <span class="p">})</span>
</code></pre>
</div>

<p>It has an input property called <code class="highlighter-rouge">ngStyle</code> which expects an object</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="nx">NgStyleDirective</span> <span class="p">{</span> <span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">ngStyle</span><span class="err">:</span> <span class="nx">SomeShape</span><span class="p">;</span> <span class="p">}</span>
</code></pre>
</div>

<p>The object accepts CSS properties in kebab case or camel case</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="s1">'font-weight'</span><span class="err">:</span> <span class="p">...</span> <span class="c1">// kebab case</span>
<span class="nl">borderBottom</span><span class="p">:</span> <span class="p">...</span> <span class="c1">// camel case</span>
</code></pre>
</div>

<p>The final style itâ€™s going to be a combination of the <code class="highlighter-rouge">style</code> attribute and <code class="highlighter-rouge">[ngStyle]</code></p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">style=</span><span class="s">"padding:1rem; color:red; font-weight:bold; border:1px solid black"</span><span class="nt">&gt;</span>

</code></pre>
</div>

<hr />
<!-- .slide: id="directives-ngclass-1" -->
<h2 id="ngclass-directive-14"><code class="highlighter-rouge">NgClass</code> Directive (1/4)</h2>

<ul>
  <li>Changes the <code class="highlighter-rouge">class</code> attribute of the host component</li>
  <li>The <code class="highlighter-rouge">NgClass</code> directive can be used with strings, arrays or objects</li>
</ul>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'class-as-string'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s1">'&lt;p ngClass="centered-text underlined" class="orange"&gt;&lt;/p&gt;'</span><span class="p">,</span>
  <span class="na">styles</span><span class="p">:</span> <span class="p">[</span> <span class="p">...</span> <span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">ClassAsStringComponent</span> <span class="p">{}</span>
</code></pre>
</div>

<p>Resulting class attribute:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"orange centered-text underlined"</span><span class="nt">&gt;&lt;/p&gt;</span>
</code></pre>
</div>

<hr />
<!-- .slide: id="directives-ngclass-2" -->
<h2 id="ngclass-directive-24---string"><code class="highlighter-rouge">NgClass</code> Directive (2/4) - String</h2>

<p>Used with a string:</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span> <span class="na">selector</span><span class="p">:</span> <span class="s1">'class-as-string'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s1">'&lt;p ngClass="centered-text underlined" class="orange"&gt;&lt;/p&gt;'</span><span class="p">,</span>
  <span class="na">styles</span><span class="p">:</span> <span class="p">[</span> <span class="p">...</span> <span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">ClassAsStringComponent</span> <span class="p">{}</span>
</code></pre>
</div>

<p>Or using a string property</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span> <span class="na">selector</span><span class="p">:</span> <span class="s1">'class-as-string'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s1">'&lt;p [ngClass]="classes" class="orange"&gt;&lt;/p&gt;'</span><span class="p">,</span>
  <span class="na">styles</span><span class="p">:</span> <span class="p">[</span> <span class="p">...</span> <span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">ClassAsStringComponent</span> <span class="p">{</span>
  <span class="nx">classes</span> <span class="o">=</span> <span class="s1">'centered-text underlined'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p><a href="https://plnkr.co/edit/uYihwapmBxNaqGDeawwS?p=preview">View Example</a></p>

<hr />
<!-- .slide: id="directives-ngclass-3" -->
<h2 id="ngclass-directive-34---array"><code class="highlighter-rouge">NgClass</code> Directive (3/4) - Array</h2>

<p>Used with an array:</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span> <span class="na">selector</span><span class="p">:</span> <span class="s1">'class-as-string'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s1">'&lt;p [ngClass]="['</span><span class="nx">centered</span><span class="o">-</span><span class="nx">text</span><span class="s1">', '</span><span class="nx">underlined</span><span class="s1">']" class="orange"&gt;&lt;/p&gt;'</span><span class="p">,</span>
  <span class="na">styles</span><span class="p">:</span> <span class="p">[</span> <span class="p">...</span> <span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">ClassAsStringComponent</span> <span class="p">{}</span>
</code></pre>
</div>

<p>Or using an array property</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span> <span class="na">selector</span><span class="p">:</span> <span class="s1">'class-as-string'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s1">'&lt;p [ngClass]="classes" class="orange"&gt;&lt;/p&gt;'</span><span class="p">,</span>
  <span class="na">styles</span><span class="p">:</span> <span class="p">[</span> <span class="p">...</span> <span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">ClassAsStringComponent</span> <span class="p">{</span>
  <span class="nx">classes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'centered-text'</span><span class="p">,</span> <span class="s1">'underlined'</span><span class="p">];</span>
<span class="p">}</span>
</code></pre>
</div>

<p><a href="https://plnkr.co/edit/uYihwapmBxNaqGDeawwS?p=preview">View Example</a></p>

<hr />
<!-- .slide: id="directives-ngclass-4" -->
<h2 id="ngclass-directive-44---object"><code class="highlighter-rouge">NgClass</code> Directive (4/4) - Object</h2>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'class-as-string'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span>
    <span class="o">&lt;</span><span class="nx">p</span>
      <span class="p">[</span><span class="nx">ngClass</span><span class="p">]</span><span class="o">=</span><span class="s2">"{'centered-text': isCentered, underlined: isUnderlined}"</span>
      <span class="kr">class</span><span class="o">=</span><span class="s2">"orange"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="sr">/p&gt;`</span><span class="err">,
</span>  <span class="na">styles</span><span class="p">:</span> <span class="p">[</span> <span class="p">...</span> <span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">ClassAsStringComponent</span> <span class="p">{</span>
  <span class="nx">isCentered</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="nx">isUnderlined</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Result:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"orange centered-text"</span><span class="nt">&gt;&lt;/p&gt;</span>
</code></pre>
</div>

<p><a href="https://plnkr.co/edit/0xrwGT?p=preview">View Example</a></p>

<hr />
<!-- .slide: id="directives-structural-directives" -->
<h2 id="structural-directives">Structural Directives</h2>

<ul>
  <li>Handles how a component or native element renders using the <code class="highlighter-rouge">&lt;template&gt;</code> tag</li>
  <li>Have their own special syntax in the template <code class="highlighter-rouge">*myDirective</code></li>
  <li>Built-in structural directives
    <ul>
      <li><code class="highlighter-rouge">ngIf</code> and <code class="highlighter-rouge">ngFor</code>: seen before</li>
      <li><code class="highlighter-rouge">ngSwitch</code> discussed below</li>
    </ul>
  </li>
</ul>

<hr />
<!-- .slide: id="directives-ngswitch" -->
<h2 id="ngswitch-directive"><code class="highlighter-rouge">NgSwitch</code> Directive</h2>

<ul>
  <li>Multiple components can be matched using <code class="highlighter-rouge">ngSwitchCase</code></li>
  <li>Since components are created or destroyed be aware of the costs in doing so.</li>
</ul>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"tabs-selection"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;tab</span> <span class="err">[</span><span class="na">active</span><span class="err">]="</span><span class="na">isSelected</span><span class="err">(</span><span class="na">1</span><span class="err">)"</span> <span class="err">(</span><span class="na">click</span><span class="err">)="</span><span class="na">setTab</span><span class="err">(</span><span class="na">1</span><span class="err">)"</span><span class="nt">&gt;</span>Tab 1<span class="nt">&lt;/tab&gt;</span>
  <span class="nt">&lt;tab</span> <span class="err">[</span><span class="na">active</span><span class="err">]="</span><span class="na">isSelected</span><span class="err">(</span><span class="na">2</span><span class="err">)"</span> <span class="err">(</span><span class="na">click</span><span class="err">)="</span><span class="na">setTab</span><span class="err">(</span><span class="na">2</span><span class="err">)"</span><span class="nt">&gt;</span>Tab 2<span class="nt">&lt;/tab&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="err">[</span><span class="na">ngSwitch</span><span class="err">]="</span><span class="na">tab</span><span class="err">"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;tab-content</span> <span class="err">*</span><span class="na">ngSwitchCase=</span><span class="s">"1"</span><span class="nt">&gt;</span>Tab content 1<span class="nt">&lt;/tab-content&gt;</span>
  <span class="nt">&lt;tab-content</span> <span class="err">*</span><span class="na">ngSwitchCase=</span><span class="s">"2"</span><span class="nt">&gt;</span>Tab content 2<span class="nt">&lt;/tab-content&gt;</span>
  <span class="nt">&lt;tab-content</span> <span class="err">*</span><span class="na">ngSwitchDefault</span><span class="nt">&gt;</span>Select a tab<span class="nt">&lt;/tab-content&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span> <span class="p">...</span> <span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">AppComponent</span> <span class="p">{</span>
  <span class="nx">tab</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nx">setTab</span><span class="p">(</span><span class="nx">num</span><span class="err">:</span> <span class="kr">number</span><span class="p">)</span><span class="err">:</span> <span class="k">void</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">tab</span> <span class="o">=</span> <span class="nx">num</span><span class="p">;</span> <span class="p">}</span>
  <span class="nx">isSelected</span><span class="p">(</span><span class="na">num</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="kr">boolean</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">tab</span> <span class="o">===</span> <span class="nx">num</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><a href="https://plnkr.co/edit/MEG6RBlrF82kWNYxwFlk?p=preview">View Example</a></p>

<hr />
<!-- .slide: id="directives-multiple-structural-directives" -->
<h2 id="using-multiple-structural-directives">Using Multiple Structural Directives</h2>

<p>A component or native element can only be bound to one directive at a time</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- Not allowed --&gt;</span>
<span class="nt">&lt;div</span> <span class="err">*</span><span class="na">ngFor=</span><span class="s">"[1,2,3,4,5,6]"</span> <span class="err">*</span><span class="na">ngIf=</span><span class="s">"item &gt; 3"</span><span class="nt">&gt;</span>
  {{item}}
<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>

<p>We need to use the alternative syntax using the <code class="highlighter-rouge">&lt;template&gt;</code> tag</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- Allowed --&gt;</span>
<span class="nt">&lt;template</span> <span class="na">ngFor</span> <span class="err">[</span><span class="na">ngForOf</span><span class="err">]="[</span><span class="na">1</span><span class="err">,</span><span class="na">2</span><span class="err">,</span><span class="na">3</span><span class="err">,</span><span class="na">4</span><span class="err">,</span><span class="na">5</span><span class="err">,</span><span class="na">6</span><span class="err">]"</span> <span class="na">let-item</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="err">*</span><span class="na">ngIf=</span><span class="s">"item &gt; 3"</span><span class="nt">&gt;</span>
    {{item}}
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/template&gt;</span>
</code></pre>
</div>

<p><a href="https://plnkr.co/edit/gmIbP6s7S1pN7vDk9YHG?p=preview">View Example</a></p>

          <hr/>
          <a href="http://localhost:4000/">Home</a>
        </div>
      </div>
    </div>
  </body>
</html>

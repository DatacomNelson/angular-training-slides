<!DOCTYPE HTML>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="search-domain" content="http://rangle.io" />
    <link href="http://localhost:4000/css/bootstrap.css" rel="stylesheet" />
    <link href="http://localhost:4000/css/bootstrap-theme.css" rel="stylesheet" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Unused Material</title>
  </head>
  <body>
    <div class="container shadow">
      <div class="row-fluid">
        <div class="span10 offset1">
          <p><a href="http://rangle.io">Rangle.io</a> Angular Training</a></p>
          <h1>Unused Material</h1>
          <hr />

<h2 id="everything-after-this-point-has-not-been-edited">Everything after this point has <em>NOT</em> been edited</h2>

<hr />
<!-- .slide: data-background="../content/images/question-slide.jpg" -->

<h2 id="quiz">Quiz</h2>

<p>Which text will the following component template render out to the screen when used in this way?</p>

<p>Component declaration:</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'card'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span>
    <span class="o">&lt;</span><span class="nx">ng</span><span class="o">-</span><span class="nx">content</span> <span class="nx">select</span><span class="o">=</span><span class="s2">"[header]"</span><span class="o">&gt;&lt;</span><span class="sr">/ng-content</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Body</span> <span class="nx">text</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>  <span class="err">`</span>
<span class="p">})</span>
</code></pre>
</div>

<p>Usage:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;card&gt;</span>
  <span class="nt">&lt;header&gt;</span>Main Header<span class="nt">&lt;/header&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">header</span><span class="nt">&gt;</span>Other Header<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/card&gt;</span>
</code></pre>
</div>

<ol>
  <li>Other Header<br />
Body text</li>
  <li>Main Header<br />
Body text</li>
  <li>Main Header<br />
Other Header<br />
Body text</li>
</ol>

<p>+++
<!-- .slide: data-background="../content/images/answer-slide.jpg" --></p>

<h2 id="answer">Answer</h2>

<p>Correct answer is 1.</p>

<p>2, 3: <code class="highlighter-rouge">select</code> operates on a subset of CSS selectors <code class="highlighter-rouge">[header]</code>
denotes an attribute named <code class="highlighter-rouge">header</code> rather than an element selector of
<code class="highlighter-rouge">header</code>.</p>

<hr />
<!-- .slide: data-background="../content/images/question-slide.jpg" -->

<h2 id="quiz-1">Quiz</h2>

<p>Which text will the following component template render out to the screen when used in this way?</p>

<p>Component declaration:</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'card'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span>
    <span class="o">&lt;</span><span class="nx">ng</span><span class="o">-</span><span class="nx">content</span><span class="o">&gt;&lt;</span><span class="sr">/ng-content</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Body</span> <span class="nx">text</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">ng</span><span class="o">-</span><span class="nx">content</span><span class="o">&gt;&lt;</span><span class="sr">/ng-content</span><span class="err">&gt;
</span>  <span class="err">`</span>
<span class="p">})</span>
</code></pre>
</div>

<p>Usage:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;card&gt;</span>
  <span class="nt">&lt;header&gt;</span>Main Header<span class="nt">&lt;/header&gt;</span>
  <span class="nt">&lt;div&gt;</span>Other Header<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/card&gt;</span>
</code></pre>
</div>

<ol>
  <li>Main Header<br />
Other Header<br />
Body text</li>
  <li>Main Header<br />
Other Header<br />
Body text
Main Header<br />
Other Header<br /></li>
  <li>Body text
Main Header<br />
Other Header<br /></li>
  <li>None. An error will be thrown because multiple bare <code class="highlighter-rouge">&lt;ng-content&gt;</code> tags are not supported</li>
</ol>

<p>+++
<!-- .slide: data-background="../content/images/answer-slide.jpg" --></p>

<h2 id="answer-1">Answer</h2>

<p>Correct answer is 3.</p>

<p>1, 2: When multiple bare <code class="highlighter-rouge">&lt;ng-content&gt;</code>’s are present, Angular will
render projected content into that last <code class="highlighter-rouge">&lt;ng-content&gt;</code> block ignoring
the others.</p>

<hr />
<!-- .slide: data-background="../content/images/question-slide.jpg" -->

<h2 id="quiz-2">Quiz</h2>

<p>Which text will the following component template render out to the screen when used in this way?</p>

<p>Component declaration:</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'tab-list'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span><span class="o">&lt;</span><span class="nx">ng</span><span class="o">-</span><span class="nx">content</span> <span class="nx">select</span><span class="o">=</span><span class="s2">"tab"</span><span class="o">&gt;&lt;</span><span class="sr">/ng-content&gt;</span><span class="err">`
</span><span class="p">})</span>
</code></pre>
</div>

<p>Usage:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;tab-list&gt;</span>
  <span class="nt">&lt;nav&gt;</span>
    <span class="nt">&lt;tab&gt;</span>Tab1<span class="nt">&lt;/tab&gt;</span>
    <span class="nt">&lt;tab&gt;</span>Tab2<span class="nt">&lt;/tab&gt;</span>
    <span class="nt">&lt;tab&gt;</span>Tab3<span class="nt">&lt;/tab&gt;</span>
  <span class="nt">&lt;/nav&gt;</span>
  <span class="nt">&lt;tab&gt;</span>New<span class="nt">&lt;/tab&gt;</span>
<span class="nt">&lt;/tab-list&gt;</span>
</code></pre>
</div>

<ol>
  <li>Tab1 Tab2 Tab3 New</li>
  <li>New Tab1 Tab2 Tab3</li>
  <li>New</li>
</ol>

<p>+++
<!-- .slide: data-background="../content/images/answer-slide.jpg" --></p>

<h2 id="answer-2">Answer</h2>

<p>Correct answer is 3.</p>

<p>1, 2: <code class="highlighter-rouge">select</code> will only do a shallow selector match. Children of
other elements do not get selected.</p>

<hr />
<!-- .slide: data-background="../content/images/question-slide.jpg" -->

<h2 id="quiz-3">Quiz</h2>

<p>Which text will the following component template render out to the screen when used in this way?</p>

<p>Component declaration:</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'fox'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span>
    <span class="o">&lt;</span><span class="nx">ng</span><span class="o">-</span><span class="nx">content</span><span class="o">&gt;&lt;</span><span class="sr">/ng-content</span><span class="err">&gt;
</span>    <span class="nx">The</span> <span class="nx">quick</span> <span class="nx">brown</span> <span class="nx">fox</span>
    <span class="o">&lt;</span><span class="nx">ng</span><span class="o">-</span><span class="nx">content</span> <span class="nx">select</span><span class="o">=</span><span class="s2">"span"</span><span class="o">&gt;&lt;</span><span class="sr">/ng-content</span><span class="err">&gt;
</span>  <span class="err">`</span>
<span class="p">})</span>
</code></pre>
</div>

<p>Usage:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;fox&gt;</span>
  <span class="nt">&lt;span&gt;</span> greatly leaps and<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span&gt;</span> bounds over the lazy dog<span class="nt">&lt;/span&gt;</span>
  We can only know one thing for sure.
<span class="nt">&lt;/fox&gt;</span>
</code></pre>
</div>

<ol>
  <li>greatly leaps and bounds over the lazy dog We can only know one thing for sure. The quick brown fox greatly leaps and bounds over the lazy dog</li>
  <li>We can only know one thing for sure. The quick brown fox greatly leaps and bounds over the lazy dog</li>
  <li>The quick brown fox greatly leaps and bounds over the lazy dog</li>
  <li>None. An error will be thrown because <code class="highlighter-rouge">select</code> does not work along side a bare <code class="highlighter-rouge">&lt;ng-content&gt;</code> tag</li>
</ol>

<p>Correct answer is 2.</p>

<p>1, 3, 4: When used in conjunction with <code class="highlighter-rouge">select</code>, a standard
<code class="highlighter-rouge">&lt;ng-content&gt;</code> will act as a catch-all and will projection any content
not captured by other selectors. It does not blindly select everything</p>

<hr />
<!-- .slide: data-background="../content/images/question-slide.jpg" -->

<h2 id="quiz-4">Quiz</h2>

<p>Which text will the following component template render out to the screen when used in this way?</p>

<p>Component declaration:</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'fox'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s1">'The quick brown fox &lt;ng-content select="span"&gt;&lt;/ng-content&gt;'</span>
<span class="p">})</span>
</code></pre>
</div>

<p>Usage:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;fox&gt;</span>
  <span class="nt">&lt;span&gt;</span> greatly leaps and<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;span&gt;</span> bounds over the lazy dog<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/fox&gt;</span>
</code></pre>
</div>

<ol>
  <li>The quick brown fox bounds over the lazy dog</li>
  <li>The quick brown fox greatly leaps and</li>
  <li>The quick brown fox greatly leaps and bounds over the lazy dog</li>
  <li>None. An error will be thrown because <code class="highlighter-rouge">select</code> does not support multiple matching elements</li>
</ol>

<p>+++
<!-- .slide: data-background="../content/images/answer-slide.jpg" --></p>

<h2 id="answer-3">Answer</h2>

<p>Correct answer is 3.</p>

<p>1, 2: It may seem ng-content <code class="highlighter-rouge">select</code> should only match a single
element as there is only one <code class="highlighter-rouge">&lt;ng-content&gt;</code> tag. This is not the
case. Both spans will be rendered.</p>

<p>4: <code class="highlighter-rouge">select</code> will greedily match as many elements as it can.</p>

<hr />
<!-- .slide: data-background="../content/images/question-slide.jpg" -->

<h2 id="quiz-5">Quiz</h2>

<p>What needs to be added to the following component declaration in order
for this markup to be valid <code class="highlighter-rouge">&lt;clock [(time)]="currentTime"&gt;&lt;/clock&gt;</code>:</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'clock'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span><span class="p">...</span><span class="err">`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">ClockComponent</span> <span class="p">{</span>
  <span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">time</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<ol>
  <li><code class="highlighter-rouge">@Output() time = new EventEmitter();</code></li>
  <li><code class="highlighter-rouge">@Output() timeChange;</code></li>
  <li><code class="highlighter-rouge">@Output() timeChange = new EventEmitter();</code></li>
  <li><code class="highlighter-rouge">@Output() onChange = new EventEmitter();</code></li>
</ol>

<p>+++
<!-- .slide: data-background="../content/images/answer-slide.jpg" --></p>

<h2 id="answer-4">Answer</h2>

<p>Correct answer is 3.</p>

<p>1: This may expose a misunderstanding of class member declarations in TypeScript.</p>

<p>2: This answer may expose a misunderstanding between the implicit
behavior of the <code class="highlighter-rouge">@Input()</code> decorator and having to explicitly
construct and assign an <code class="highlighter-rouge">EventEmitter</code> to a member decorated with
<code class="highlighter-rouge">@Output()</code>. It may be assumed that by decorating something as an
output you should achieve the expected behavior.</p>

<p>3: This may expose confusion between the relationship of the property
names and that suffixing an output member name with <code class="highlighter-rouge">Change</code>.</p>

<hr />
<!-- .slide: data-background="../content/images/question-slide.jpg" -->

<h2 id="quiz-6">Quiz</h2>

<p><code class="highlighter-rouge">&lt;clock [(time)]="currentTime"&gt;&lt;/clock&gt;</code> is equivalent to the long-hand form of:</p>

<ol>
  <li><code class="highlighter-rouge">&lt;clock (time)="currentTime" [time]="currentTime"&gt;&lt;/clock&gt;</code></li>
  <li><code class="highlighter-rouge">&lt;clock [time]="currentTime" (time)="currentTime=$event"&gt;&lt;/clock&gt;</code></li>
  <li><code class="highlighter-rouge">&lt;clock (time)="currentTime" [timeChange]="currentTime=$event"&gt;&lt;/clock&gt;</code></li>
  <li><code class="highlighter-rouge">&lt;clock [time]="currentTime" (timeChange)="currentTime=$event"&gt;&lt;/clock&gt;</code></li>
</ol>

<p>+++
<!-- .slide: data-background="../content/images/answer-slide.jpg" --></p>

<h2 id="answer-5">Answer</h2>

<p>Correct answer is 4.</p>

<p>1: This may expose a misunderstanding of outputs and two-way binding
itself, since the short-hand syntax looks like a simpe combination of
these two attributes.</p>

<p>2: This answer may expose confusion with the naming relationship
between <code class="highlighter-rouge">time</code> and <code class="highlighter-rouge">timeChange</code>.</p>

<p>3: Input/output syntax is not well understood.</p>

<hr />
<!-- .slide: data-background="../content/images/question-slide.jpg" -->

<h2 id="quiz-7">Quiz</h2>

<p>What is one way in which to interface with a two-way bound property
that allows us to handle changes to a value, rather than synchronize
values?</p>

<ol>
  <li><code class="highlighter-rouge">&lt;clock [time]="currentTime" (timeChange)="onTimeChange()"&gt;&lt;/clock&gt;</code></li>
  <li><code class="highlighter-rouge">&lt;clock [time]="currentTime" (timeChange)="onTimeChange($event)"&gt;&lt;/clock&gt;</code></li>
  <li>You can’t, two-way bound properties must be used to keep data in sync.</li>
  <li><code class="highlighter-rouge">&lt;clock [time]="currentTime" (timeChange)="onTimeChange(time)"&gt;&lt;/clock&gt;</code></li>
</ol>

<p>+++
<!-- .slide: data-background="../content/images/answer-slide.jpg" --></p>

<h2 id="answer-6">Answer</h2>

<p>Correct answer is 2.</p>

<p>1: This may expose the assumption that values will be implcitily
passed into the called back provided.</p>

<p>3: This answer may expose confusion of how tw-way bindings actually
work.</p>

<p>4: This may expose confusion or a lack of understanding what the the
<code class="highlighter-rouge">$event</code> variable represents.</p>

<hr />

<h2 id="component-lifecycle">Component Lifecycle</h2>

<p>Angular manages creation, rendering, data-bound properties etc. It also offers hooks that allow us to respond to key lifecycle events.</p>

<p>These are the most-used lifecycle hooks:</p>

<ul>
  <li><code class="highlighter-rouge">ngOnInit</code> - When bound inputs pass values the first time.</li>
  <li><code class="highlighter-rouge">ngOnDestroy</code> - Before component is destroyed.</li>
  <li><code class="highlighter-rouge">ngAfterContentInit</code> - After component’s (ng-)content is initialized.</li>
  <li><code class="highlighter-rouge">ngAfterViewInit</code> - After component’s view is initialized.</li>
</ul>

<p><strong>Pro Tip:</strong> Prefer putting initialization logic in <code class="highlighter-rouge">ngOnInit</code> instead of <code class="highlighter-rouge">constructor</code></p>

<hr />

<h2 id="pure-vs-impure-pipes">Pure vs Impure Pipes</h2>

<ul>
  <li>A pure pipe is executed everytime the <strong>reference</strong> of the bound value is changed
    <ul>
      <li>Custom pipes are pure by default</li>
      <li>All built-in pipes are pure except of <code class="highlighter-rouge">async</code></li>
    </ul>
  </li>
</ul>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Pipe</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'pure'</span> <span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">PurePipe</span> <span class="k">implements</span> <span class="nx">PipeTransform</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
</code></pre>
</div>

<ul>
  <li>An impure pipe is executed everytime change detection is executed
    <ul>
      <li>App performance could be severely degraded</li>
      <li>To define a pipe as impure, we need to use the property/value <code class="highlighter-rouge">pure: false</code></li>
    </ul>
  </li>
</ul>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Pipe</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'impure'</span><span class="p">,</span> <span class="na">pure</span><span class="p">:</span> <span class="kc">false</span> <span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">ImpurePipe</span> <span class="k">implements</span> <span class="nx">PipeTransform</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
</code></pre>
</div>

<p><a href="https://plnkr.co/edit/a6TYpCugGXlz12B2RI2t?p=preview">View Example</a></p>

<p>Notes:</p>

<ul>
  <li>Simple types like <code class="highlighter-rouge">string</code>, <code class="highlighter-rouge">number</code> and <code class="highlighter-rouge">boolean</code> are immutable by default</li>
  <li>Mutating an <code class="highlighter-rouge">object</code> or an <code class="highlighter-rouge">array</code> does not change the reference</li>
</ul>

<hr />

<h2 id="the-async-pipe">The Async Pipe</h2>

<ul>
  <li>Impure and stateful built-in pipe that subscribes to observables and promises</li>
  <li>Ideal to handle async properties in a template</li>
  <li>Highly performant</li>
</ul>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'app-root'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span>
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{{</span> <span class="nx">myPromise</span> <span class="o">|</span> <span class="k">async</span> <span class="p">}}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{{</span> <span class="nx">myObservable$</span> <span class="o">|</span> <span class="k">async</span> <span class="p">}}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>  <span class="err">`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">AppComponent</span> <span class="p">{</span>
  <span class="nx">myPromise</span> <span class="o">=</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">);</span>
  <span class="nx">myObservable$</span> <span class="o">=</span> <span class="nx">Observable</span><span class="p">.</span><span class="nx">interval</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>

<span class="p">}</span>
</code></pre>
</div>

<p><a href="https://plnkr.co/edit/rpUAzH8sPK5c1NEJtAVl?p=preview">View Example</a></p>

<hr />

<h2 id="two-way-data-binding">Two-Way Data Binding</h2>

<ul>
  <li>Combination of an <code class="highlighter-rouge">@Input</code> with an <code class="highlighter-rouge">@Output</code> using the <em>banana in a box</em> syntax <code class="highlighter-rouge">[(event)]</code></li>
  <li>The name of the event has to be equal to the name of the input plus the suffix “Change”.</li>
</ul>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;rio-counter</span> <span class="err">[</span><span class="na">count</span><span class="err">]="</span><span class="na">count</span><span class="err">"</span> <span class="err">(</span><span class="na">countChange</span><span class="err">)="</span><span class="na">count=</span><span class="s">$event"</span><span class="nt">&gt;&lt;/rio-counter&gt;</span>
</code></pre>
</div>

<p>Is equivalent to:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;rio-counter</span> <span class="err">[(</span><span class="na">count</span><span class="err">)]="</span><span class="na">count</span><span class="err">"</span><span class="nt">&gt;&lt;/rio-counter&gt;</span>
</code></pre>
</div>

<p>The built-in directive <code class="highlighter-rouge">NgModel</code> uses this trick to behave similar to Angular 1:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;input</span> <span class="err">[(</span><span class="na">ngModel</span><span class="err">)]="</span><span class="na">name</span><span class="err">"</span> <span class="nt">/&gt;</span>
</code></pre>
</div>

<p>Which is equivalent to:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;input</span> <span class="err">[</span><span class="na">ngModel</span><span class="err">]="</span><span class="na">name</span><span class="err">"</span> <span class="err">(</span><span class="na">ngModelChange</span><span class="err">)="</span><span class="na">name=</span><span class="s">$event"</span> <span class="nt">/&gt;</span>
</code></pre>
</div>

<hr />

<h2 id="two-way-data-binding-example">Two-Way Data Binding Example</h2>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span> <span class="na">selector</span><span class="p">:</span> <span class="s1">'rio-counter'</span><span class="p">,</span>  <span class="p">...</span> <span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">CounterComponent</span> <span class="p">{</span>
  <span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">count</span><span class="err">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="err">@</span><span class="nx">Output</span><span class="p">()</span> <span class="nx">countChange</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="o">&lt;</span><span class="kr">number</span><span class="o">&gt;</span><span class="p">();</span>

  <span class="nx">increment</span><span class="p">()</span><span class="err">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">countChange</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">count</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>The parent component can use now the <em>banana in a box</em> syntax</p>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'rio-app'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span><span class="s1">'&lt;rio-counter [(count)]="myNumber"&gt;&lt;/rio-counter&gt;'</span>
<span class="p">})</span>
<span class="kr">class</span> <span class="nx">AppComponent</span> <span class="p">{</span> <span class="nx">myNumber</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">}</span>
</code></pre>
</div>

<p><a href="http://plnkr.co/edit/nJZQYSV23sCcbb37FzLN?p=preview">View Example</a></p>

<hr />
<!-- .slide: data-background="../content/images/question-slide.jpg" -->

<h2 id="quiz-8">Quiz</h2>

<p>Choose all of the following that are needed to make two-way data binding work.</p>

<ol>
  <li><code class="highlighter-rouge">@Input</code> decorator</li>
  <li><code class="highlighter-rouge">@Output</code> decorator</li>
  <li><code class="highlighter-rouge">[]</code> attribute (as in <code class="highlighter-rouge">[hello]="hello!"</code>)</li>
  <li><code class="highlighter-rouge">()</code>attribute (as in <code class="highlighter-rouge">(click)=sayHi()</code>)</li>
</ol>

<p>+++
<!-- .slide: data-background="../content/images/answer-slide.jpg" --></p>

<h2 id="answer-7">Answer</h2>

<p>Selecting ALL of them is correct.</p>

<p>If the student picks either 3 or 4, it could be that the student forgot that
the “banana in a box” syntax <code class="highlighter-rouge">[()]</code> is in fact combination of <code class="highlighter-rouge">[]</code> and <code class="highlighter-rouge">()</code></p>

<hr />

<h2 id="creating-a-template-variable-from-a-directive">Creating a Template Variable from a Directive</h2>

<ul>
  <li>We can create template variables from directives using the <code class="highlighter-rouge">#myVariable="exportedAsValue"</code> syntax</li>
  <li><code class="highlighter-rouge">exportedAs</code> value is a property that every built-in directive has to create a reference</li>
  <li>The value of the property <code class="highlighter-rouge">exportedAs</code> of the directive <code class="highlighter-rouge">NgForm</code> is <code class="highlighter-rouge">ngForm</code> (<a href="https://angular.io/docs/ts/latest/api/forms/index/NgForm-directive.html">docs</a>)</li>
</ul>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'rio-app'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span>
    <span class="o">&lt;</span><span class="nx">form</span> <span class="err">#</span><span class="nx">myForm</span><span class="o">=</span><span class="s2">"ngForm"</span> <span class="p">(</span><span class="nx">ngSubmit</span><span class="p">)</span><span class="o">=</span><span class="s2">"submitForm(myForm)"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">label</span><span class="o">&gt;</span><span class="na">Name</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"name"</span> <span class="nx">ngModel</span><span class="o">&gt;&lt;</span><span class="sr">/label</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="kd">type</span><span class="o">=</span><span class="s2">"submit"</span><span class="o">&gt;</span><span class="nx">Submit</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;</span><span class="p">{{</span> <span class="nx">values</span> <span class="o">|</span> <span class="nx">json</span> <span class="p">}}</span><span class="o">&lt;</span><span class="sr">/pre&gt;</span><span class="err">`
</span><span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">AppComponent</span> <span class="p">{</span>
  <span class="na">values</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
  <span class="nx">submitForm</span> <span class="p">(</span><span class="na">form</span><span class="p">:</span> <span class="nx">NgForm</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">values</span> <span class="o">=</span> <span class="nx">form</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><a href="https://plnkr.co/edit/ttVaCf?p=preview">View Example</a></p>

<p>Notes:</p>

<ul>
  <li>The value of the property <code class="highlighter-rouge">exportedAs</code> of the directive <code class="highlighter-rouge">NgForm</code> is <code class="highlighter-rouge">ngForm</code></li>
  <li>The enhanced component instance has validation, the native <code class="highlighter-rouge">form</code> component doesn’t</li>
</ul>

<hr />

<h2 id="template-projection">Template Projection</h2>

<ul>
  <li>Ability to pass HTML to a child component and have it rendered there</li>
  <li>This was called <em>transclusion</em> in Angular 1</li>
  <li>Use the built-in component <code class="highlighter-rouge">&lt;ng-content&gt;</code> to define where to render the projected content</li>
</ul>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'rio-app'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span><span class="o">&lt;</span><span class="nx">rio</span><span class="o">-</span><span class="nx">child</span><span class="o">&gt;</span>
               <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Projected</span> <span class="nx">content</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>             <span class="o">&lt;</span><span class="sr">/rio-child&gt;</span><span class="err">`
</span><span class="p">})</span>
<span class="kr">class</span> <span class="nx">AppComponent</span> <span class="p">{}</span>
</code></pre>
</div>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'rio-child'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span><span class="o">&lt;</span><span class="nx">h4</span><span class="o">&gt;</span><span class="nx">Child</span> <span class="nx">Component</span><span class="o">&lt;</span><span class="sr">/h4</span><span class="err">&gt;
</span>             <span class="o">&lt;</span><span class="nx">ng</span><span class="o">-</span><span class="nx">content</span><span class="o">&gt;&lt;</span><span class="sr">/ng-content&gt;</span><span class="err">`
</span><span class="p">})</span>
<span class="kr">class</span> <span class="nx">ChildComponent</span> <span class="p">{}</span>
</code></pre>
</div>

<p><a href="http://plnkr.co/edit/oqkyldgOxykReRsffVxZ?p=preview">View Example</a></p>

<hr />

<h2 id="defining-multiple-projection-areas">Defining Multiple Projection Areas</h2>

<ul>
  <li>Multiple <code class="highlighter-rouge">&lt;ng-content&gt;</code> tags can be used in a template by using the <code class="highlighter-rouge">select</code> attribute</li>
  <li>In the template, we can use an HTML tag, say, <code class="highlighter-rouge">&lt;header&gt;</code> to specify the position of projected content to the <code class="highlighter-rouge">ng-content</code> with <code class="highlighter-rouge">select="header"</code></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>  &lt;!-- Parent Component --&gt;
  &lt;rio-child&gt;
    &lt;header&gt;&lt;p&gt;This is my header content&lt;/p&gt;&lt;/header&gt;
    &lt;footer&gt;&lt;p&gt;This is my footer content&lt;/p&gt;&lt;/footer&gt;
  &lt;/rio-child&gt;`
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>  &lt;!-- Child Component --&gt;
  &lt;h4&gt;Child Component&lt;/h4&gt;
  &lt;ng-content select="header"&gt;&lt;/ng-content&gt;
  &lt;ng-content select="footer"&gt;&lt;/ng-content&gt;
</code></pre>
</div>

<p><a href="https://plnkr.co/edit/kwD3iKLU8mELAoHj2fBv?p=preview">View Example</a></p>

<hr />

<h2 id="multiple-projections-with-class-selectors">Multiple Projections with Class Selectors</h2>

<ul>
  <li>Besides tags, another option for specifying which <code class="highlighter-rouge">ng-content</code> tag to use is CSS classes</li>
  <li>This can be done by setting the value of the <code class="highlighter-rouge">select</code> attribute to a class selector such as <code class="highlighter-rouge">.header-content</code></li>
  <li>Wrap the desired content in a <code class="highlighter-rouge">&lt;div&gt;</code> with the matching CSS class to specify content position</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>  &lt;!-- Parent component --&gt;
  &lt;rio-child&gt;
    &lt;div class="header-content"&gt;
      &lt;p&gt;This is my header content&lt;/p&gt;
    &lt;/div&gt;
    &lt;div class="footer-content"&gt;
      &lt;p&gt;This is my footer content&lt;/p&gt;
    &lt;/div&gt;
  &lt;/rio-child&gt;
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>  &lt;!-- Child Component --&gt;
  &lt;h4&gt;Child Component&lt;/h4&gt;
  &lt;ng-content select=".header-content"&gt;&lt;/ng-content&gt;
  &lt;ng-content select=".footer-content"&gt;&lt;/ng-content&gt;
</code></pre>
</div>

<p><a href="https://plnkr.co/edit/YQTUGbOxhxZ41iKKpTbV?p=preview">View Example</a></p>

<hr />

<h2 id="smart-vs-dumb-components">Smart vs Dumb Components</h2>

<p>Components can be classified as “smart” or “dumb” depending on how coupled are they to the application</p>

<table>
  <thead>
    <tr>
      <th>Characteristic</th>
      <th>Smart Component</th>
      <th>Dumb Component</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Coupled to the app?</td>
      <td>Yes</td>
      <td>No</td>
    </tr>
    <tr>
      <td>Reusable?</td>
      <td>No</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>Aware of the state?</td>
      <td>Yes</td>
      <td>No</td>
    </tr>
    <tr>
      <td>Component tree location</td>
      <td>Top</td>
      <td>Bottom</td>
    </tr>
    <tr>
      <td>Easy to test?</td>
      <td>No</td>
      <td>Yes</td>
    </tr>
    <tr>
      <td>A.K.A</td>
      <td>Container Components</td>
      <td>Presentational Components</td>
    </tr>
  </tbody>
</table>

<hr />
<!-- .slide: data-background="../content/images/question-slide.jpg" -->

<h2 id="quiz-9">Quiz</h2>

<p>If I want to write a custom UI Component for my project,
which field of the <code class="highlighter-rouge">@NgModule</code> decorator should I put the class in?</p>

<ol>
  <li><code class="highlighter-rouge">bootstrap</code></li>
  <li><code class="highlighter-rouge">declarations</code></li>
  <li><code class="highlighter-rouge">interfaces</code></li>
  <li>None of the above.</li>
</ol>

<p>+++
<!-- .slide: data-background="../content/images/answer-slide.jpg" --></p>

<h2 id="answer-8">Answer</h2>

<p>Correct answer is “declarations”.</p>

<hr />

<h2 id="refactoring-hard-to-test-code-13">Refactoring Hard-to-Test Code (1/3)</h2>

<p>Some code is hard to test, and that usually means it’s a good opportunity to refactor.</p>

<ul>
  <li>Keep components from knowing or doing too much</li>
  <li>Minimize reliance on private component methods</li>
  <li>Move dependencies into services so they can be mocked</li>
</ul>

<hr />

<h2 id="refactoring-hard-to-test-code-23">Refactoring Hard-to-Test Code (2/3)</h2>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="k">export</span> <span class="kr">class</span> <span class="nx">QuoteComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
  <span class="nl">quote</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">http</span><span class="err">:</span> <span class="nx">Http</span><span class="p">)</span> <span class="p">{}</span>

  <span class="k">private</span> <span class="nx">transformQuote</span><span class="p">(</span><span class="nx">quote</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'/api/quotes'</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">transformQuote</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">))</span>
      <span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">quote</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">quote</span> <span class="o">=</span> <span class="nx">quote</span><span class="p">;</span>
      <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Moving our API call into a service will allow us to mock <code class="highlighter-rouge">getQuote()</code> and avoid having to mock <code class="highlighter-rouge">Http</code></p>

<hr />

<h2 id="refactoring-hard-to-test-code-33">Refactoring Hard-to-Test Code (3/3)</h2>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Injectable</span><span class="p">()</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">QuoteService</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">http</span><span class="err">:</span> <span class="nx">Http</span><span class="p">)</span> <span class="p">{}</span>
  <span class="k">public</span> <span class="nx">getQuote</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'/api/quotes'</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">transformQuote</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)).</span><span class="nx">first</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">private</span> <span class="nx">transformQuote</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="err">@</span><span class="nx">Component</span><span class="p">({</span> <span class="p">...</span> <span class="p">})</span>
<span class="k">export</span> <span class="kr">class</span> <span class="nx">QuoteComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
  <span class="nl">quote</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">quoteService</span><span class="err">:</span> <span class="nx">QuoteService</span><span class="p">)</span> <span class="p">{}</span>
  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">quoteService</span><span class="p">.</span><span class="nx">getQuote</span><span class="p">()</span>
      <span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">quote</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">quote</span> <span class="o">=</span> <span class="nx">quote</span><span class="p">;</span>
      <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h2 id="configuring-typescript-compilation">Configuring TypeScript Compilation</h2>

<ul>
  <li>Configuration can be on command line but more commonly in <code class="highlighter-rouge">tsconfig.json</code></li>
  <li><code class="highlighter-rouge">target</code> is the compilation target</li>
  <li><code class="highlighter-rouge">module</code> is the target module resolution method</li>
  <li>Decorator support in TypeScript hasn’t been finalized yet but since Angular uses decorators extensively, these need to be set to true</li>
  <li>Can use with Webpack via <code class="highlighter-rouge">ts-loader</code></li>
</ul>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
 <span class="s2">"compilerOptions"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"module"</span><span class="err">:</span> <span class="s2">"commonjs"</span><span class="p">,</span>
    <span class="s2">"target"</span><span class="err">:</span> <span class="s2">"es5"</span><span class="p">,</span>
    <span class="s2">"emitDecoratorMetadata"</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"experimentalDecorators"</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"noImplicitAny"</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">"removeComments"</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">"sourceMap"</span><span class="err">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="s2">"exclude"</span><span class="err">:</span> <span class="p">[</span>
    <span class="s2">"node_modules"</span><span class="p">,</span>
    <span class="s2">"dist/"</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

          <hr/>
          <a href="http://localhost:4000/">Home</a>
        </div>
      </div>
    </div>
  </body>
</html>
